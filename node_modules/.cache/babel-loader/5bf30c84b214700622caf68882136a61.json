{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MultiColumnList } from './../common/MultiColumnList';\nimport { classNames, getScrollbarWidth, setScrollbarWidth, getter } from '@progress/kendo-react-common';\nimport ComboBox from '../ComboBox/ComboBox';\n\nvar columnWidth = function (width, defaultWidth) {\n  if (width) {\n    return typeof width === 'number' ? width + 'px' : width;\n  }\n\n  return defaultWidth;\n};\n/**\n * Represents the MultiColumnComboBox component.\n */\n\n\nexport var MultiColumnComboBox = React.forwardRef(function (props, ref) {\n  var target = React.useRef(null);\n  var comboBoxRef = React.useRef(null);\n  var scrollbarWidth = getScrollbarWidth();\n\n  var _a = props.columns,\n      columns = _a === void 0 ? defaultProps.columns : _a,\n      _b = props.popupSettings,\n      popupSettings = _b === void 0 ? defaultProps.popupSettings : _b,\n      onOpen = props.onOpen,\n      onClose = props.onClose,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFilterChange = props.onFilterChange,\n      onPageChange = props.onPageChange,\n      other = __rest(props, [\"columns\", \"popupSettings\", \"onOpen\", \"onClose\", \"onFocus\", \"onBlur\", \"onChange\", \"onFilterChange\", \"onPageChange\"]);\n\n  React.useImperativeHandle(target, function () {\n    return {\n      element: comboBoxRef.current && comboBoxRef.current.element,\n      focus: function () {\n        if (comboBoxRef.current) {\n          comboBoxRef.current.focus();\n        }\n      },\n\n      get value() {\n        return comboBoxRef.current && comboBoxRef.current.value;\n      },\n\n      get name() {\n        return comboBoxRef.current && comboBoxRef.current.name;\n      },\n\n      props: props\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return target.current;\n  });\n  var popupWidth = React.useMemo(function () {\n    return \"calc(\" + columns.map(function (column) {\n      return columnWidth(column.width, defaultProps.width);\n    }).filter(Boolean).join(' + ') + \" + \" + scrollbarWidth + \"px)\";\n  }, [columns, scrollbarWidth]);\n  var header = React.useMemo(function () {\n    return React.createElement(React.Fragment, null, props.header, React.createElement(\"div\", {\n      className: \"k-grid-header\"\n    }, React.createElement(\"div\", {\n      className: \"k-grid-header-wrap\"\n    }, React.createElement(\"table\", {\n      role: \"presentation\"\n    }, React.createElement(\"colgroup\", null, columns.map(function (column, i) {\n      return React.createElement(\"col\", {\n        key: column.uniqueKey ? column.uniqueKey : i,\n        style: {\n          width: column.width ? column.width : defaultProps.width\n        }\n      });\n    })), React.createElement(\"tbody\", null, React.createElement(\"tr\", null, columns.map(function (column, i) {\n      return React.createElement(\"th\", {\n        key: column.uniqueKey ? column.uniqueKey : i,\n        className: \"k-header\"\n      }, column.header || '\\u00A0');\n    })))))));\n  }, [props.header, columns]);\n  var skip = props.virtual ? props.virtual.skip : 0;\n  var itemRender = React.useCallback(function (li, liProps) {\n    var children = columns.map(function (column, i) {\n      return React.createElement(\"span\", {\n        className: \"k-cell\",\n        style: {\n          width: column.width ? column.width : defaultProps.width\n        },\n        key: column.uniqueKey ? column.uniqueKey : i\n      }, column.field ? getter(column.field)(liProps.dataItem) : '');\n    });\n    var group = undefined;\n    var curGroup,\n        prevGroup,\n        groupGetter,\n        data = props.data || [];\n    var index = liProps.index - skip;\n\n    if (props.groupField !== undefined) {\n      groupGetter = getter(props.groupField);\n      curGroup = groupGetter(data[index]);\n      prevGroup = groupGetter(data[index - 1]);\n\n      if (curGroup && prevGroup && curGroup !== prevGroup) {\n        group = curGroup;\n      }\n    }\n\n    if (group) {\n      children.push(React.createElement(\"div\", {\n        key: \"group\",\n        className: \"k-cell k-group-cell\"\n      }, React.createElement(\"span\", null, group)));\n    }\n\n    var rendering = React.cloneElement(li, __assign({}, li.props), children);\n    return props.itemRender ? props.itemRender.call(undefined, rendering, liProps) : rendering;\n  }, [columns, props.groupField, props.itemRender, props.data, skip]);\n  var handleEvent = React.useCallback(function (handler, event) {\n    if (handler) {\n      handler.call(undefined, __assign({}, event, {\n        target: target.current\n      }));\n    }\n  }, []);\n  var onOpenHandler = React.useCallback(function (event) {\n    return handleEvent(onOpen, event);\n  }, [onOpen]);\n  var onCloseHandler = React.useCallback(function (event) {\n    return handleEvent(onClose, event);\n  }, [onClose]);\n  var onFocusHandler = React.useCallback(function (event) {\n    return handleEvent(onFocus, event);\n  }, [onFocus]);\n  var onBlurHandler = React.useCallback(function (event) {\n    return handleEvent(onBlur, event);\n  }, [onBlur]);\n  var onChangeHandler = React.useCallback(function (event) {\n    return handleEvent(onChange, event);\n  }, [onChange]);\n  var onFilterChangeHandler = React.useCallback(function (event) {\n    return handleEvent(onFilterChange, event);\n  }, [onFilterChange]);\n  var onPageChangeHandler = React.useCallback(function (event) {\n    return handleEvent(onPageChange, event);\n  }, [onPageChange]);\n  React.useEffect(function () {\n    setScrollbarWidth();\n  });\n  var List = React.useCallback(function (listProps) {\n    return React.createElement(MultiColumnList, __assign({}, listProps));\n  }, []);\n  return React.createElement(ComboBox, __assign({}, other, {\n    list: List,\n    popupSettings: __assign({\n      width: popupWidth\n    }, popupSettings, {\n      className: classNames('k-dropdowngrid-popup k-popup-flush', popupSettings.className)\n    }),\n    ref: comboBoxRef,\n    header: header,\n    itemRender: itemRender,\n    onOpen: onOpenHandler,\n    onClose: onCloseHandler,\n    onFocus: onFocusHandler,\n    onBlur: onBlurHandler,\n    onChange: onChangeHandler,\n    onFilterChange: onFilterChangeHandler,\n    onPageChange: onPageChangeHandler\n  }));\n});\n\nvar propTypes = __assign({}, ComboBox.propTypes, {\n  columns: PropTypes.any.isRequired\n});\n\nvar defaultProps = {\n  columns: [],\n  popupSettings: {},\n  width: '200px'\n};\nMultiColumnComboBox.displayName = 'KendoMultiColumnComboBox'; // TODO: delete casting when @types/react is updated!\n\nMultiColumnComboBox.propTypes = propTypes;\nMultiColumnComboBox.defaultProps = defaultProps;","map":{"version":3,"sources":["../../../src/MultiColumnComboBox/MultiColumnComboBox.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MultiColumnList } from './../common/MultiColumnList';\nimport { classNames, getScrollbarWidth, setScrollbarWidth, getter } from '@progress/kendo-react-common';\nimport ComboBox from '../ComboBox/ComboBox';\nvar columnWidth = function (width, defaultWidth) {\n    if (width) {\n        return typeof width === 'number' ? width + 'px' : width;\n    }\n    return defaultWidth;\n};\n/**\n * Represents the MultiColumnComboBox component.\n */\nexport var MultiColumnComboBox = React.forwardRef(function (props, ref) {\n    var target = React.useRef(null);\n    var comboBoxRef = React.useRef(null);\n    var scrollbarWidth = getScrollbarWidth();\n    var _a = props.columns, columns = _a === void 0 ? defaultProps.columns : _a, _b = props.popupSettings, popupSettings = _b === void 0 ? defaultProps.popupSettings : _b, onOpen = props.onOpen, onClose = props.onClose, onFocus = props.onFocus, onBlur = props.onBlur, onChange = props.onChange, onFilterChange = props.onFilterChange, onPageChange = props.onPageChange, other = __rest(props, [\"columns\", \"popupSettings\", \"onOpen\", \"onClose\", \"onFocus\", \"onBlur\", \"onChange\", \"onFilterChange\", \"onPageChange\"]);\n    React.useImperativeHandle(target, function () {\n        return ({\n            element: comboBoxRef.current && comboBoxRef.current.element,\n            focus: function () {\n                if (comboBoxRef.current) {\n                    comboBoxRef.current.focus();\n                }\n            },\n            get value() { return comboBoxRef.current && comboBoxRef.current.value; },\n            get name() { return comboBoxRef.current && comboBoxRef.current.name; },\n            props: props\n        });\n    });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var popupWidth = React.useMemo(function () {\n        return \"calc(\" + columns.map(function (column) { return columnWidth(column.width, defaultProps.width); }).filter(Boolean).join(' + ') + \" + \" + scrollbarWidth + \"px)\";\n    }, [columns, scrollbarWidth]);\n    var header = React.useMemo(function () { return (React.createElement(React.Fragment, null,\n        props.header,\n        React.createElement(\"div\", { className: \"k-grid-header\" },\n            React.createElement(\"div\", { className: \"k-grid-header-wrap\" },\n                React.createElement(\"table\", { role: \"presentation\" },\n                    React.createElement(\"colgroup\", null, columns.map(function (column, i) {\n                        return (React.createElement(\"col\", { key: column.uniqueKey ? column.uniqueKey : i, style: { width: column.width ? column.width : defaultProps.width } }));\n                    })),\n                    React.createElement(\"tbody\", null,\n                        React.createElement(\"tr\", null, columns.map(function (column, i) {\n                            return (React.createElement(\"th\", { key: column.uniqueKey ? column.uniqueKey : i, className: \"k-header\" }, column.header || '\\u00A0'));\n                        })))))))); }, [props.header, columns]);\n    var skip = props.virtual ? props.virtual.skip : 0;\n    var itemRender = React.useCallback(function (li, liProps) {\n        var children = columns.map(function (column, i) { return (React.createElement(\"span\", { className: \"k-cell\", style: { width: column.width ? column.width : defaultProps.width }, key: column.uniqueKey ? column.uniqueKey : i }, column.field ? getter(column.field)(liProps.dataItem) : '')); });\n        var group = undefined;\n        var curGroup, prevGroup, groupGetter, data = props.data || [];\n        var index = liProps.index - skip;\n        if (props.groupField !== undefined) {\n            groupGetter = getter(props.groupField);\n            curGroup = groupGetter(data[index]);\n            prevGroup = groupGetter(data[index - 1]);\n            if (curGroup && prevGroup && curGroup !== prevGroup) {\n                group = curGroup;\n            }\n        }\n        if (group) {\n            children.push(React.createElement(\"div\", { key: \"group\", className: \"k-cell k-group-cell\" },\n                React.createElement(\"span\", null, group)));\n        }\n        var rendering = React.cloneElement(li, __assign({}, li.props), children);\n        return props.itemRender ? props.itemRender.call(undefined, rendering, liProps) : rendering;\n    }, [columns, props.groupField, props.itemRender, props.data, skip]);\n    var handleEvent = React.useCallback(function (handler, event) {\n        if (handler) {\n            handler.call(undefined, __assign({}, event, { target: target.current }));\n        }\n    }, []);\n    var onOpenHandler = React.useCallback(function (event) { return handleEvent(onOpen, event); }, [onOpen]);\n    var onCloseHandler = React.useCallback(function (event) { return handleEvent(onClose, event); }, [onClose]);\n    var onFocusHandler = React.useCallback(function (event) { return handleEvent(onFocus, event); }, [onFocus]);\n    var onBlurHandler = React.useCallback(function (event) { return handleEvent(onBlur, event); }, [onBlur]);\n    var onChangeHandler = React.useCallback(function (event) { return handleEvent(onChange, event); }, [onChange]);\n    var onFilterChangeHandler = React.useCallback(function (event) { return handleEvent(onFilterChange, event); }, [onFilterChange]);\n    var onPageChangeHandler = React.useCallback(function (event) { return handleEvent(onPageChange, event); }, [onPageChange]);\n    React.useEffect(function () { setScrollbarWidth(); });\n    var List = React.useCallback(function (listProps) { return React.createElement(MultiColumnList, __assign({}, listProps)); }, []);\n    return (React.createElement(ComboBox, __assign({}, other, { list: List, popupSettings: __assign({ width: popupWidth }, popupSettings, { className: classNames('k-dropdowngrid-popup k-popup-flush', popupSettings.className) }), ref: comboBoxRef, header: header, itemRender: itemRender, onOpen: onOpenHandler, onClose: onCloseHandler, onFocus: onFocusHandler, onBlur: onBlurHandler, onChange: onChangeHandler, onFilterChange: onFilterChangeHandler, onPageChange: onPageChangeHandler })));\n});\nvar propTypes = __assign({}, ComboBox.propTypes, { columns: PropTypes.any.isRequired });\nvar defaultProps = {\n    columns: [],\n    popupSettings: {},\n    width: '200px'\n};\nMultiColumnComboBox.displayName = 'KendoMultiColumnComboBox';\n// TODO: delete casting when @types/react is updated!\nMultiColumnComboBox.propTypes = propTypes;\nMultiColumnComboBox.defaultProps = defaultProps;\n//# sourceMappingURL=MultiColumnComboBox.js.map"]},"metadata":{},"sourceType":"module"}