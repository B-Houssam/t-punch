{"ast":null,"code":"/**\n * @hidden\n */\nexport var EMPTY_ID = '';\n/**\n * @hidden\n */\n\nexport var ZERO_LEVEL_ZERO_NODE_ID = '0';\n/**\n * @hidden\n */\n\nexport var SEPARATOR = '_';\n/**\n * @hidden\n */\n\nexport function getItemById(itemId, items, childrenField) {\n  if (isIdZeroLevel(itemId)) {\n    return items[Number(itemId)];\n  } else {\n    var rootParentItem = items[Number(getRootParentId(itemId))];\n    var subItems = rootParentItem && rootParentItem[childrenField] || [];\n    return subItems.length ? getItemById(getIdWithoutRootParentId(itemId), subItems, childrenField) : undefined;\n  }\n}\n/**\n * @hidden\n */\n\nexport function getRootParentId(itemId) {\n  return isIdEmptyOrZeroLevel(itemId) ? itemId : itemId.split(SEPARATOR)[0];\n}\n/**\n * @hidden\n */\n\nexport function getIdWithoutRootParentId(itemId) {\n  if (isIdEmptyOrZeroLevel(itemId)) {\n    return itemId;\n  } else {\n    var firstSeparatorIndex = itemId.indexOf(SEPARATOR);\n    return itemId.substring(firstSeparatorIndex + 1);\n  }\n}\n/**\n * @hidden\n */\n\nexport function getFirstChildId(itemId) {\n  return createId('0', itemId);\n}\n/**\n * @hidden\n */\n\nexport function createId(childId, parentId) {\n  childId = childId.toString();\n  return parentId ? parentId + SEPARATOR + childId : childId;\n}\n/**\n * @hidden\n */\n\nexport function getDirectParentId(itemId) {\n  var lastSeparatorIndex = itemId.lastIndexOf(SEPARATOR);\n  return lastSeparatorIndex < 0 ? EMPTY_ID : itemId.substring(0, lastSeparatorIndex);\n}\n/**\n * @hidden\n */\n\nexport function isIdEmptyOrZeroLevel(itemId) {\n  return itemId === EMPTY_ID || itemId.indexOf(SEPARATOR) < 0;\n}\n/**\n * @hidden\n */\n\nexport function isIdZeroLevel(itemId) {\n  return itemId !== EMPTY_ID && itemId.indexOf(SEPARATOR) < 0;\n}\n/**\n * @hidden\n */\n\nexport function getAllShortIds(itemId) {\n  return itemId.split(SEPARATOR);\n}\n/**\n * @hidden\n */\n\nexport function getShortId(itemId) {\n  var lastSeparatorIndex = itemId.lastIndexOf(SEPARATOR);\n  return lastSeparatorIndex < 0 ? itemId : itemId.substring(lastSeparatorIndex + 1);\n}\n/**\n * @hidden\n */\n\nexport function isItemFirstFromSiblings(itemId) {\n  return getShortId(itemId) === ZERO_LEVEL_ZERO_NODE_ID;\n}\n/**\n * @hidden\n */\n\nexport function getDecrementedItemIdAfterRemoval(removedItemId, itemId) {\n  var preservedItemId = itemId;\n  removedItemId = 'r' + SEPARATOR + removedItemId;\n  itemId = 'r' + SEPARATOR + itemId;\n  var itemSharedPath = getDirectParentId(removedItemId) + SEPARATOR;\n\n  if (itemId.startsWith(itemSharedPath)) {\n    var itemNotSharedPath = itemId.substring(itemSharedPath.length);\n\n    if (itemNotSharedPath) {\n      var siblingShortId = getRootParentId(itemNotSharedPath);\n\n      if (Number(getShortId(removedItemId)) < Number(siblingShortId)) {\n        var decrementedId = itemSharedPath + (Number(siblingShortId) - 1).toString() + itemNotSharedPath.substring(siblingShortId.length);\n        return getIdWithoutRootParentId(decrementedId);\n      }\n    }\n  }\n\n  return preservedItemId;\n}","map":{"version":3,"sources":["../../../src/utils/itemIdUtils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\n * @hidden\n */\nexport var EMPTY_ID = '';\n/**\n * @hidden\n */\nexport var ZERO_LEVEL_ZERO_NODE_ID = '0';\n/**\n * @hidden\n */\nexport var SEPARATOR = '_';\n/**\n * @hidden\n */\nexport function getItemById(itemId, items, childrenField) {\n    if (isIdZeroLevel(itemId)) {\n        return items[Number(itemId)];\n    }\n    else {\n        var rootParentItem = items[Number(getRootParentId(itemId))];\n        var subItems = (rootParentItem && rootParentItem[childrenField]) || [];\n        return subItems.length ?\n            getItemById(getIdWithoutRootParentId(itemId), subItems, childrenField) : undefined;\n    }\n}\n/**\n * @hidden\n */\nexport function getRootParentId(itemId) {\n    return isIdEmptyOrZeroLevel(itemId) ? itemId : itemId.split(SEPARATOR)[0];\n}\n/**\n * @hidden\n */\nexport function getIdWithoutRootParentId(itemId) {\n    if (isIdEmptyOrZeroLevel(itemId)) {\n        return itemId;\n    }\n    else {\n        var firstSeparatorIndex = itemId.indexOf(SEPARATOR);\n        return itemId.substring(firstSeparatorIndex + 1);\n    }\n}\n/**\n * @hidden\n */\nexport function getFirstChildId(itemId) {\n    return createId('0', itemId);\n}\n/**\n * @hidden\n */\nexport function createId(childId, parentId) {\n    childId = childId.toString();\n    return parentId ? parentId + SEPARATOR + childId : childId;\n}\n/**\n * @hidden\n */\nexport function getDirectParentId(itemId) {\n    var lastSeparatorIndex = itemId.lastIndexOf(SEPARATOR);\n    return lastSeparatorIndex < 0 ? EMPTY_ID : itemId.substring(0, lastSeparatorIndex);\n}\n/**\n * @hidden\n */\nexport function isIdEmptyOrZeroLevel(itemId) {\n    return itemId === EMPTY_ID || itemId.indexOf(SEPARATOR) < 0;\n}\n/**\n * @hidden\n */\nexport function isIdZeroLevel(itemId) {\n    return itemId !== EMPTY_ID && itemId.indexOf(SEPARATOR) < 0;\n}\n/**\n * @hidden\n */\nexport function getAllShortIds(itemId) {\n    return itemId.split(SEPARATOR);\n}\n/**\n * @hidden\n */\nexport function getShortId(itemId) {\n    var lastSeparatorIndex = itemId.lastIndexOf(SEPARATOR);\n    return lastSeparatorIndex < 0 ? itemId : itemId.substring(lastSeparatorIndex + 1);\n}\n/**\n * @hidden\n */\nexport function isItemFirstFromSiblings(itemId) {\n    return getShortId(itemId) === ZERO_LEVEL_ZERO_NODE_ID;\n}\n/**\n * @hidden\n */\nexport function getDecrementedItemIdAfterRemoval(removedItemId, itemId) {\n    var preservedItemId = itemId;\n    removedItemId = 'r' + SEPARATOR + removedItemId;\n    itemId = 'r' + SEPARATOR + itemId;\n    var itemSharedPath = getDirectParentId(removedItemId) + SEPARATOR;\n    if (itemId.startsWith(itemSharedPath)) {\n        var itemNotSharedPath = itemId.substring(itemSharedPath.length);\n        if (itemNotSharedPath) {\n            var siblingShortId = getRootParentId(itemNotSharedPath);\n            if (Number(getShortId(removedItemId)) < Number(siblingShortId)) {\n                var decrementedId = itemSharedPath +\n                    (Number(siblingShortId) - 1).toString() +\n                    itemNotSharedPath.substring(siblingShortId.length);\n                return getIdWithoutRootParentId(decrementedId);\n            }\n        }\n    }\n    return preservedItemId;\n}\n//# sourceMappingURL=itemIdUtils.js.map"]},"metadata":{},"sourceType":"module"}